(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-274b2220"],{"00b4":function(s,e,r){"use strict";r("ac1f");var o=r("23e7"),i=r("da84"),t=r("c65b"),a=r("e330"),n=r("1626"),c=r("861d"),d=function(){var s=!1,e=/[ac]/;return e.exec=function(){return s=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&s}(),l=i.Error,g=a(/./.test);o({target:"RegExp",proto:!0,forced:!d},{test:function(s){var e=this.exec;if(!n(e))return g(this,s);var r=t(e,this,s);if(null!==r&&!c(r))throw new l("RegExp exec method returned something other than an Object or null");return!!r}})},9827:function(s,e,r){},a55b:function(s,e,r){"use strict";r.r(e);var o=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{attrs:{id:"login"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"main"}),r("div",{staticClass:"form"},[r("h3",{on:{click:s.showRegister}},[s._v("创建账户")]),r("transition",{attrs:{name:"slide"}},[r("div",{staticClass:"register",class:{show:s.isShowRegister}},[r("input",{directives:[{name:"model",rawName:"v-model",value:s.register.username,expression:"register.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:s.register.username},on:{input:function(e){e.target.composing||s.$set(s.register,"username",e.target.value)}}}),"checkbox"===(s.isShowRegisterPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.register.password,expression:"register.password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(s.register.password)?s._i(s.register.password,null)>-1:s.register.password},on:{change:function(e){var r=s.register.password,o=e.target,i=!!o.checked;if(Array.isArray(r)){var t=null,a=s._i(r,t);o.checked?a<0&&s.$set(s.register,"password",r.concat([t])):a>-1&&s.$set(s.register,"password",r.slice(0,a).concat(r.slice(a+1)))}else s.$set(s.register,"password",i)}}}):"radio"===(s.isShowRegisterPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.register.password,expression:"register.password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:s._q(s.register.password,null)},on:{change:function(e){return s.$set(s.register,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.register.password,expression:"register.password"}],attrs:{placeholder:"密码",type:s.isShowRegisterPassword?"text":"password"},domProps:{value:s.register.password},on:{input:function(e){e.target.composing||s.$set(s.register,"password",e.target.value)}}}),r("svg",{on:{click:function(e){s.isShowRegisterPassword=!s.isShowRegisterPassword}}},[r("use",{directives:[{name:"show",rawName:"v-show",value:!1===s.isShowRegisterPassword,expression:"isShowRegisterPassword===false"}],attrs:{"xlink:href":"#icon-yincang"}}),r("use",{directives:[{name:"show",rawName:"v-show",value:!0===s.isShowRegisterPassword,expression:"isShowRegisterPassword===true"}],attrs:{"xlink:href":"#icon-xianshi"}})]),r("p",{class:{error:s.register.isError}},[s._v(" "+s._s(s.register.notice))]),r("div",{staticClass:"button",on:{click:s.onRegister}},[s._v("创建账号")])])]),r("h3",{on:{click:s.showLogin}},[s._v("登录")]),r("transition",{attrs:{name:"slide"}},[r("div",{staticClass:"login",class:{show:s.isShowLogin}},[r("input",{directives:[{name:"model",rawName:"v-model",value:s.login.username,expression:"login.username"}],attrs:{type:"text",placeholder:"输入用户名"},domProps:{value:s.login.username},on:{input:function(e){e.target.composing||s.$set(s.login,"username",e.target.value)}}}),"checkbox"===(s.isShowLoginPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(s.login.password)?s._i(s.login.password,null)>-1:s.login.password},on:{change:function(e){var r=s.login.password,o=e.target,i=!!o.checked;if(Array.isArray(r)){var t=null,a=s._i(r,t);o.checked?a<0&&s.$set(s.login,"password",r.concat([t])):a>-1&&s.$set(s.login,"password",r.slice(0,a).concat(r.slice(a+1)))}else s.$set(s.login,"password",i)}}}):"radio"===(s.isShowLoginPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:s._q(s.login.password,null)},on:{change:function(e){return s.$set(s.login,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],attrs:{placeholder:"密码",type:s.isShowLoginPassword?"text":"password"},domProps:{value:s.login.password},on:{input:function(e){e.target.composing||s.$set(s.login,"password",e.target.value)}}}),r("svg",{on:{click:function(e){s.isShowLoginPassword=!s.isShowLoginPassword}}},[r("use",{directives:[{name:"show",rawName:"v-show",value:!1===s.isShowLoginPassword,expression:"isShowLoginPassword===false"}],attrs:{"xlink:href":"#icon-yincang"}}),r("use",{directives:[{name:"show",rawName:"v-show",value:!0===s.isShowLoginPassword,expression:"isShowLoginPassword===true"}],attrs:{"xlink:href":"#icon-xianshi"}})]),r("p",{class:{error:s.login.isError}},[s._v(" "+s._s(s.login.notice))]),r("div",{staticClass:"button",on:{click:s.onLogin}},[s._v(" 登录")])])])],1)])])])])},i=[],t=r("5530"),a=r("aa30"),n=(r("ac1f"),r("00b4"),r("2b0e")),c=r("2f62");n["a"].component("Message",a["a"]);var d={name:"Login",data:function(){return{isShowLogin:!0,isShowRegister:!1,isShowLoginPassword:!1,isShowRegisterPassword:!1,login:{username:"",password:"",notice:"输入用户名和密码",isError:!1},register:{username:"",password:"",notice:"创建账号后，请记住用户名和密码",isError:!1}}},methods:Object(t["a"])(Object(t["a"])({},Object(c["b"])("user",{registerUser:"register",loginUser:"login"})),{},{showLogin:function(){this.isShowLogin=!0,this.isShowRegister=!1},showRegister:function(){this.isShowLogin=!1,this.isShowRegister=!0},onRegister:function(){var s=this;return/^[\w\u4e00-\u9fa5]{3,15}$/.test(this.register.username)?/^.{6,16}$/.test(this.register.password)?void this.registerUser({username:this.register.username,password:this.register.password}).then((function(){s.register.isError=!1,s.register.notice="",a["a"].success("注册成功"),s.$router.push({path:"/notebooks"})})).catch((function(e){s.register.isError=!0,s.register.notice=e.msg})):(this.register.notice="密码长度为6~16个字符",void(this.register.isError=!0)):(this.register.notice="用户名3~15个字符，仅限字母数字下划线中文",void(this.register.isError=!0))},onLogin:function(){var s=this;return/^[\w\u4e00-\u9fa5]{3,15}$/.test(this.login.username)&&/^.{6,16}$/.test(this.login.password)?void this.loginUser({username:this.login.username,password:this.login.password}).then((function(){s.login.isError=!1,s.login.notice="",a["a"].success("登录成功"),s.$router.push({path:"/notebooks"})})).catch((function(e){s.login.isError=!0,s.login.notice=e.msg})):(this.login.notice="用户名或密码错误",void(this.login.isError=!0))}})},l=d,g=(r("ca8c"),r("2877")),w=Object(g["a"])(l,o,i,!1,null,"5a763e0e",null);e["default"]=w.exports},ca8c:function(s,e,r){"use strict";r("9827")}}]);
//# sourceMappingURL=chunk-274b2220.64812fb3.js.map